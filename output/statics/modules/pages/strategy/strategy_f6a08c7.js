define('pages/strategy/strategy', function(require, exports, module) {


module.exports = {
    url: '/strategy',
    template: "\n<div class=\"category\">\n    <script  type=\"text/ng-template\"  id=\"myModalstrategy.html\" >\n        <div class=\"modal-header relative\">\n            <p>{{item.title}}</p>\n            <span class=\"icon-icon_close_circle_o category-pop-close\" ng-click=\"cancel()\"></span>\n        </div>\n        <div ng-show=\"item.method=='add' || item.method=='modify'\">\n            <div class=\"modal-body\">\n                <div class=\"form-group form-group-selin form-group-category\">\n                    <div class=\"input-group\">\n                        <span class=\"input-group-addon bg-white inputdesc\">类别名称</span>\n                        <input type=\"text\" class=\"form-control\" placeholder=\"请输入类别名称\" ng-model=\"name\">\n                    </div>\n                </div>\n                <div class=\"form-group form-group-selin\" ng-show=\"item.method=='add'\">\n                    <div class=\"input-group\">\n                        <span class=\"input-group-addon bg-white inputdesc\">主题</span>\n                        <input type=\"text\" class=\"form-control\" placeholder=\"请输入主题\" ng-model=\"topic\">\n                    </div>\n                </div>\n\n                <div class=\"form-group form-group-selin\" ng-show=\"item.method=='modify'\">\n                    <div class=\"input-group\">\n                        <span class=\"input-group-addon bg-white inputdesc\">主题</span>\n                        <div type=\"text\" class=\"form-control readonly\" ng-bind=\"topic\"></div>\n                    </div>\n                </div>\n                <div class=\"form-group form-group-selin margin-bottom-30\">\n                    <div class=\"input-group\">\n                        <span class=\"input-group-addon bg-white inputdesc\">简述</span>\n                        <input type=\"text\" class=\"form-control\" placeholder=\"请输入内容\" ng-model=\"description\">\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"modal-footer modal-footer-category\">\n                <div>\n                    <button type=\"button\" class=\"btn btn_ok\" ng-click=\"cancel()\">取消</button>\n                    <button type=\"button\" class=\"btn btn_cancel\" ng-click=\"ok()\">保存</button>\n                </div>\n            </div>\n\n        </div>\n\n        <div ng-show=\"item.method == 'delete'\">\n            <div class=\"modal-body\">\n                <div class=\"warn_delete\">\n                    <span class=\"icon-icon_warn\"></span>\n                    <div class='delete_desc'>\n                        <p>确定要删除这个策略吗</p>\n                        <p>注意：删除以后不可恢复！</p>\n                    </div>\n                </div>\n            </div>\n            <div class=\"modal-footer modal-footer-project\">\n                <div>\n                    <button type=\"button\" class=\"btn btn_delete\" ng-click=\"ok()\">删除</button>\n                    <button type=\"button\" class=\"btn btn_cancel \" ng-click=\"cancel()\">取消</button>\n                </div>\n            </div>\n        </div>\n\n    </script>\n    <div class=\"main-top-bar\">\n        <p>主题管理／项目管理/ {{projectName}}</p>\n    </div>\n    <div class=\"main-content clear-padding-top\">\n        <ul class=\"project_tab margin-bottom-30\" ng-controller=\"projectTabCtr\">\n    <!--<li class=\"a-pare project_name-pare\">-->\n        <!--<span class=\"project_name\" ng-bind=\"item.name\">-->\n\n        <!--</span>-->\n    <!--</li>-->\n\n    <li class=\"a-pare\">\n        <!--<a ng-class=\"{true:'active',false:''}[item.category]\" ui-sref=\"category({projectId:item.id})\">-->\n        <a ng-class=\"{true:'active',false:''}[item.category]\" ng-click=\"go('category')\">\n            <span>类别管理</span>\n        </a>\n    </li>\n\n    <li class=\"a-pare\">\n        <!--<a ng-class=\"{true:'active',false:''}[item.identity]\" ui-sref=\"identity({projectId:item.id})\">-->\n        <a ng-class=\"{true:'active',false:''}[item.identity]\"  ng-click=\"go('identity')\">\n            <span>身份管理</span>\n        </a>\n    </li>\n\n    <li class=\"a-pare\">\n        <!--<a ng-class=\"{true:'active',false:''}[item.strategy]\" ui-sref=\"strategy({projectId:item.id})\">-->\n        <a ng-class=\"{true:'active',false:''}[item.strategy]\"  ng-click=\"go('strategy')\">\n            <span>策略管理</span>\n        </a>\n    </li>\n</ul>\n\n        <div class=\"form-search\">\n            <input class=\"category_name\" placeholder=\"请输入策略名称\" ng-model=\"strategy_name\"/>\n            <button type=\"button\" class=\"searchBtn\" type=\"button\" ng-click=\"searchBtn()\">搜索</button>\n            <!--<button type=\"button\" class=\"addBtn\" ng-click=\"open('md-add','add',$index)\">-->\n            <button type=\"button\" class=\"addBtn\" ng-click=\"addStrategy()\">\n                <span class=\"icon-icon_plus\"></span>\n                <span class=\"addBtn_desc\">添加策略</span>\n            </button>\n        </div>\n        <table class=\"table table-bordered table-content\">\n            <thead>\n            <tr>\n                <th>策略名称</th>\n                <th>主题</th>\n                <th>简述</th>\n                <th>创建时间</th>\n                <th>操作</th>\n            </tr>\n            </thead>\n            <tbody  ng-show=\"query_result.length>0\">\n            <tr ng-repeat=\"item in query_result\">\n                <td>{{item.name}}</td>\n                <td>\n\n                    <p ng-repeat=\"topic in item.topics\" class=\"strategy-topic\"><span class=\"strategy-topic-flag\" ng-show=\"topic.pubsub=='subscribe' || topic.pubsub=='pubsub' || topic.pubsub=='publish'\">{{topic.pubsub | pubsub}}</span><span\n                            class=\"strategy-topic-text\">{{topic.name}}</span></p>\n\n                    <!--<p class=\"strategy-topic\"><span class=\"strategy-topic-flag\">sp</span><span-->\n                            <!--class=\"strategy-topic-text\">1234567/a6a84b9c-d704-11e6-92a8-000c29da3805/client</span></p>-->\n\n                    <!--<p class=\"strategy-topic\"><span class=\"strategy-topic-flag\">s</span><span-->\n                            <!--class=\"strategy-topic-text\">1234567/a6a84b9c-d704-11e6-92a8-000c29da3805/client</span></p>-->\n\n                    <!--<p class=\"strategy-topic\"><span class=\"strategy-topic-flag\">sp</span><span-->\n                            <!--class=\"strategy-topic-text\">1234567/a6a84b9c-d704-11e6-92a8-000c29da3805/client</span></p>-->\n\n                    <!--<p class=\"strategy-topic\"><span class=\"strategy-topic-flag\">sp</span><span-->\n                            <!--class=\"strategy-topic-text\">1234567/a6a84b9c-d704-11e6-92a8-000c29da3805/client</span></p>-->\n\n                </td>\n                <td>{{item.description}}</td>\n                <td>{{item.created_at}}</td>\n                <td class=\"op-btns\">\n                    <span class=\"icon-icon_edit edit-icon margin-right-10\" ng-click=\"modifyStrategy($index)\"></span>\n                    <!--<span class=\"icon-icon_eye watch-icon\"></span>-->\n                    <span class=\"icon-icon_delete delete-icon margin-left-10\" ng-click=\"open('md-add','delete',$index)\"></span>\n                </td>\n\n            </tr>\n            </tbody>\n        </table>\n        <div class=\"no_content\" ng-show=\"query_result.length==0\">\n            <p><span class=\"icon-no_search\"></span></p>\n            <p>找不到你需要的内容，请重新搜索</p>\n        </div>\n        <table class=\"table table-pagination\" ng-show=\"query_result.length!=0\">\n            <thead>\n            <tr>\n                <th class=\"pagination-items-per-page\">\n                    <!-- <span>每页显示数量</span>\n                    <ui-select ng-model=\"number2\" theme=\"bootstrap\" on-select=\"setShowNum(number2)\">\n                        <ui-select-match placeholder=\"10\">{{$select.selected}}</ui-select-match>\n                        <ui-select-choices repeat=\"item in numbers\">\n                            <div ng-bind-html=\"item\"></div>\n                        </ui-select-choices>\n                    </ui-select> -->\n                    <div class=\"pagination-content\">\n                        <span class=\"pagination-tip\">每页显示数量</span>\n                        <ui-select ng-model=\"number\" name=\"camera_page_select\" theme=\"bootstrap\" on-select=\"setShowNum(number)\">\n                            <ui-select-match placeholder=\"10\">{{$select.selected}}</ui-select-match>\n                            <ui-select-choices repeat=\"item in numbers\">\n                                <div ng-bind-html=\"item\"></div>\n                                <!-- <small ng-bind-html=\"item.email\"></small> -->\n                            </ui-select-choices>\n                        </ui-select>\n                    </div>\n                </th>\n                <th>\n                    <uib-pagination items-per-page=\"number\" total-items=\"bigTotalItems\" ng-change=\"changePage()\" ng-model=\"bigCurrentPage\" max-size=\"maxSize\" class=\"pagination-sm\" boundary-link-numbers=\"true\" num-pages=\"numPages\" previous-text=\"上一页\" next-text=\"下一页\"></uib-pagination>\n                    <div class=\"pagination-detail\">\n                        <span>共{{total_page}}页</span>\n                        <span>跳至<input type=\"text\" name=\"camera_page\" ng-model=\"index_sel\"/>页</span>\n                        <span><button  name=\"camera_submmit\" ng-click=\"setPage()\">确定</button></span>\n                    </div>\n                </th>\n\n            </tr>\n            </thead>\n\n        </table>\n    </div>\n    <optip ng-class=\"optip\"></optip>\n    <addstrategy ng-class=\"addstrategy\" class=\"addstrategy-wrap\"></addstrategy>\n</div>",


    //注意如果开启压缩，应采取此方式注入对象，否则压缩后将找不到
    controller : 'strategyCtr',
    resolve: {
        loadCtrl: ["$q", function($q) {
            var deferred = $q.defer();
            //异步加载controller／directive/filter/service
            require(['pages/strategy/strategy.sync'], function() {
                deferred.resolve();
            });
            return deferred.promise;
        }]
    }
};


});
